 {% extends "base.html" %}
 {% block title %}摄影{%endblock%}
 {% block content %}
<div id="photowrap">
    <div id='container'>

    </div>
    <div id="page-navigation" class="hide clear">
        <span class="disabled page-navigation-prev" title="上一页">上一页</span>
        <a href="?&p=1" data-target="page" data-page="1" class="cur">1</a>
        <a href="?&p=2" data-target="page" data-page="2">2</a>
        <a href="?&p=3" data-target="page" data-page="3">3</a>
        <a href="?&p=4" data-target="page" data-page="4">4</a>
        <a href="?&p=5" data-target="page" data-page="5">5</a>
        <a href="?&p=6" data-target="page" data-page="6">6</a>
        <a href="?&p=2" class="page-navigation-next" data-page="2" title="下一页">下一页</a>
    </div>
</div>
<script type='text/javascript' src="/static/js/handlebars.js"></script>
<script type='text/javascript' src="/static/js/waterfall.min.js"></script>
<script>
$('#container').waterfall({
    itemCls: 'item',
    colWidth: 280,
    fitWidth: true,
    gutterWidth: 15,
    gutterHeight: 15,
    maxPage: 1,
    checkImagesLoaded: true,
    dataType: 'html',
    callbacks: {
        loadingFinished: function($loading, isBeyondMaxPage) {
            if (!isBeyondMaxPage) {
                $loading.fadeOut();
            } else {
                $loading.hide();
                $('#page-navigation').show();
            }
        }
    },
    path: function(page) {
        return '/ajax_get_photo/?page=' + page;
    }

});

</script>


{%endblock%}
